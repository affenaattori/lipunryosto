<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lipunryöstö — Pelien hallinta</title>
  <style>
    :root{--bg:#0f172a;--card:#111827;--line:#1f2937;--muted:#9ca3af;--accent:#60a5fa}
    *{box-sizing:border-box}html,body{margin:0;background:var(--bg);color:#e5e7eb;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .card{background:#111827;border:1px solid var(--line);border-radius:12px;padding:16px;margin:12px 0}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    input,select{padding:10px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:#e5e7eb}
    button{padding:10px 12px;border:0;border-radius:10px;background:var(--accent);color:#0b1220;font-weight:700;cursor:pointer}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{border-bottom:1px solid #1f2937;padding:10px;text-align:left;font-size:14px}
    .small{font-size:12px;color:#9ca3af}
    .team-row{display:flex;gap:8px;margin:6px 0}
    .pill{padding:4px 8px;border-radius:9999px;background:#1f2937;color:#9ca3af;font-size:12px;display:inline-block}
  </style>
</head>
<body>
<div class="wrap">

  <div class="row">
    <span class="pill" id="apiInfo">API: –</span>
    <input id="apiBase" placeholder="https://<api>.azurewebsites.net" style="min-width:360px">
    <button id="saveApiBtn">Tallenna API</button>
  </div>

  <div class="card">
    <h2>Luo peli</h2>
    <div class="row">
      <input id="gName" placeholder="Pelin nimi" style="flex:2">
      <label>Valtausaika (s)</label>
      <input id="gCapture" type="number" min="5" value="60" style="width:110px">
      <label>Voittosääntö</label>
      <select id="gWin">
        <option value="MostPointsAtTime">Eniten pisteitä aikarajassa</option>
        <option value="AllFlagsOneTeam">Kaikki liput yhdellä</option>
      </select>
      <label>Aikaraja käytössä?</label>
      <select id="gTimeEnabled">
        <option value="false">Ei</option>
        <option value="true">Kyllä</option>
      </select>
      <input id="gTimeLimit" type="number" min="1" value="15" placeholder="Aikaraja (min)" style="width:140px">
      <input id="gMaxPoints" type="number" min="1" placeholder="Max pisteet (valinnainen)" style="width:180px">
      <input id="gArena" placeholder="Pelialueen nimi (valinn.)" style="flex:1">
    </div>

    <h3 style="margin-top:12px">Joukkueet</h3>
    <div id="teamsWrap"></div>
    <div class="row">
      <button id="addTeamBtn" type="button">Lisää joukkue</button>
      <button id="createGameBtn" type="button">Luo peli</button>
      <span id="createInfo" class="small"></span>
    </div>
  </div>

  <div class="card">
    <h2>Pelit</h2>
    <div class="small" id="gamesEmpty">Ei pelejä vielä.</div>
    <table>
      <thead>
        <tr>
          <th>Nimi</th>
          <th>Id</th>
          <th>Voittosääntö</th>
          <th>Aikaraja</th>
          <th>Joukkueet</th>
          <th>Toiminnot</th>
        </tr>
      </thead>
      <tbody id="gamesTbody"></tbody>
    </table>
  </div>
</div>

<script src="./admin.js"></script>
</body>
</html>
